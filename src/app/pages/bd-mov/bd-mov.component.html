<div class="datos">
<table class="datosTable">
    <tr>
        <td>Fecha <br>
        <input type="text" [value]="fecha()" (input)="fechaChangeHandler($event)"></td>
        <td>Alerta <br>
        <input type="text" [value]="alerta()" (input)="alertaChangeHandler($event)"></td>
        <td>Normativa <br>
        <input type="text" [value]="normativa()" (input)="normativaChangeHandler($event)"></td>

    </tr>
    <tr>
        <td>Host <br>
        <input type="text" [value]="host()" (input)="hostChangeHandler($event)"></td>
        <td>Usuario ejecutor <br>
        <input type="text" [value]="usrej()" (input)="usrejChangeHandler($event)"></td>
        <td>Nombre Usuario Ejecutor <br>
        <input type="text" [value]="nombreusr()" (input)="nombreusrChangeHandler($event)"></td>
    </tr>
    <tr>
        <td>Usuarios de SO <br>
        <input type="text" [value]="userSO()" (input)="userSOChangeHandler($event)"></td>
    </tr>
    <tr>
        <td><p>Cargo</p>
        <input type="text" [value]="cargo()" (input)="cargoChangeHandler($event)">
        </td>
        <td><p>Empresa</p>
        <input type="text" [value]="empresa()" (input)="empresaChangeHandler($event)"></td>

        <td><p>Jefe</p>
        <input type="text" [value]="jefe()" (input)="jefeChangeHandler($event)">
        </td>

               <td>
            <p>Interno / Externo</p>
            <label for="carSelect"></label>
            <select id="carSelect" (change)="car.set($any($event.target).value)">
                <option *ngFor="let c of cars" [value]="c">{{ c }}</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Tipo de movimiento <br>
        <input type="text" [value]="accion()" (input)="accionChangeHandler($event)"></td>
        <td>Tipo de objeto <br>
        <input type="text" [value]="tipoObj()" (input)="tipoObjChangeHandler($event)"></td>
        <td>Usuarios afectados <br>
        <input type="text" [value]="usrafectados()" (input)="usrafecChangeHandler($event)"></td>
        
    </tr>
</table>
</div>
<div>
<button (click)="deleteData()">
    {{ borrado ? 'Borrados!' : 'Borrar Datos' }}
</button>
</div>

<hr>
    <h1>Sugerencia de Titulo?</h1>
        <p>
            {{alerta()}}_{{usrej()}} <br><br>               
        </p>
<hr>

<h1>Correo</h1>
<button (click)="copyContent(textToCopy)">
    {{ copiado ? 'Copiado!' : 'Copiar' }}
</button>



<!--Correo -->
<div #textToCopy>
<p>{{tiempo}},
 <br><br>
    Les notificamos que se ha realizado un cambio en la base de datos <b>{{aplicacion()}}</b>, este movimiento fue realizado por el usuario <b>{{usrej()}}</b> afectando la cuenta <b>{{usrafectados()}}</b> realizando un <b>{{accion()}}</b>.
    <br><br>
    Solicitamos de su ayuda para justificar la actividad con un código ya sea RFC/INC/REQ o alguna justificación de dichos movimientos.
    <br><br>
    Adjuntamos detalle del evento:
</p>
<table class="mailtable" role="region" tabindex="0">
    <caption></caption>
   <THead>
        <th colspan="4">Detalle del evento</th>
   </THead>
    <tbody>
        <tr>
            <th colspan="1">Severidad</th>
            <td colspan="3"><b> ☐Critica  ☒Alta  ☐Media  ☐Baja</b></td>
        </tr>
        <tr>
            <th colspan="1">Tipo de amenaza:</th>
            <td colspan="3"><b>{{alerta()}}</b></td>
        </tr>
        <tr>
            <th colspan="1">Normativa:</th>
            <td colspan="3">{{normativa()}}</td>
        </tr>
        <tr>
            <th colspan="1">Fecha:</th>
            <td colspan="3">{{fecha()}}</td>
        </tr>
        <tr>
            <th colspan="1">Host:</th>
            <td colspan="3">{{host()}}</td>
        </tr>
        <tr>
            <th>Usuario ejecutor:</th>
            <td>{{usrej()}}</td>
            <th>Nombre de Usuario:</th>
            <td>{{nombreusr()}}</td>
        </tr>
                <tr>
            <th>Usuario de SO</th>
            <td>{{userSO()}}</td>
            <th>Tipo de movimiento:</th>
            <td>{{accion()}}</td>
        </tr>
        <tr>
            <th>Tipo de objecto:</th>
            <td>{{tipoObj()}}</td>
            <th>Usuario afectado:</th>
            <td>{{usrafectados()}}</td>
        </tr>

   </tbody>
</table>
<br><br>
<p>Quedo pendiente a sus comentarios</p>
<p>Saludos</p>
</div>
<hr>
<div>
        <h1>
            DOCUMENTACI&oacute;N
        </h1>
<div *ngIf=" car() == 'Interno'" >
        <h3>(1) </h3>
        <br>
        **Descripci&oacute;n del evento:**
    <br>
        Se detecta actividad de ABC de usuarios (Creaci&oacute;n/Baja/Actualizaci&oacute;n) generada por el usuario: **{{usrej()}}** ({{nombreusr()}} - {{cargo()}}) en la aplicaci&oacute;n: **{{aplicacion()}}**, con afectaci&oacute;n al usuario: **{{usrafectados()}}**; se inicia validaci&oacute;n del evento.
    <br>
        <h3>(2) </h3>
    <br>
        **Validaci&oacute;n del evento:**
    <br>
        Se realiza la validaci&oacute;n del usuario <br>
        • **Webphone** Validaci&oacute;n de los datos del usuario <br>

        **Usuario interno** <br>

        **Nombre: {{nombreusr()}}** <br>
        **Cargo: {{cargo()}}**<br>
        **Empresa: {{empresa()}}**<br>
        **Jefe Directo: {{jefe()}}** <br>
    <br>
        <h3>(3) </h3>
    <br>
        **Notificaci&oacute;n:** Se contacta al usuario **{{nombreusr()}}** para validar el cambio del alertamiento
    <br>
        <h3>(4) </h3>
    <br>
        (en caso de aplicar)
    <br>
        **Seguimiento:** Se env&iacute;a correo de seguimiento solicitando respuesta al usuario del evento notificado previamente.
    <br>    
       <h3> (5)</h3>
    <br> 
        **Validaci&oacute;n de la respuesta** Se recibe respuesta por parte del {{nombreusr()}} indicando [detalle de la respuesta]
    <br>
        En caso de ser justificada la actividad... <br>
        Si hay folio Validar con TII <br>
        Si no hay folio, validar con AU <br>
    <br>
        Teniendo las validaciones pasar a tarea de cierre...
    <br>    
        No validado, escalar TII

    <br><br>
</div>

<div *ngIf=" car() == 'Externo'" >
       <h3> (1) </h3>
        <br>
        **Descripci&oacute;n del evento:**
    <br>
        Se detecta actividad de ABC de usuarios (Creaci&oacute;n/Baja/Actualizaci&oacute;n) generada por el usuario: **{{usrej()}}** ({{nombreusr()}} - {{cargo()}}) en la aplicaci&oacute;n: **{{aplicacion()}}**, con afectaci&oacute;n al usuario: **{{usrafectados()}}**; se inicia validaci&oacute;n del evento.
    <br>
       <h3> (2)</h3> 
    <br>
        **Validaci&oacute;n del evento:**
    <br>
        Se realiza la validaci&oacute;n del usuario
        <br>
        • **Webphone** Validaci&oacute;n de los datos del usuario
<br>
        **Usuario Externo**<br>
        **Nombre: {{nombreusr()}}**<br>
        **Cargo: {{cargo()}}**<br>
        **Empresa: {{empresa()}}**<br>
        **Jefe Directo: {{jefe()}}**<br>
        <h3>(3) </h3>

    <br>
        **Notificaci&oacute;n:** Se contacta al usuario **{{nombreusr()}}** para validar el cambio del alertamiento
    <br>
        <h3>(4) </h3>
    <br>
        (en caso de aplicar)
    <br>
        **Seguimiento:** Se env&iacute;a correo de seguimiento solicitando respuesta al usuario del evento notificado previamente.
    <br>    
        <h3>(5)</h3>
    <br> 
        **Validaci&oacute;n de la respuesta** Se recibe respuesta por parte del {{nombreusr()}} indicando [detalle de la respuesta]
    <br>
        En caso de ser justificada la actividad... <br>
        Si hay folio Validar con TII <br>
        Si no hay folio, validar con AU <br>
    <br>
        Teniendo las validaciones pasar a tarea de cierre...
    <br>    
        No validado, escalar TII

    <br><br>
</div>


<div>
    <h1>CIERRE</h1>
    <br>
       <h3> (1) </h3>
        <br>
        Conclusi&oacute;n:
    <br>
        El {{nombreusr()}}, confirma que el movimiento **(Alta/baja/cambio)** corresponde a una actividad valida debido a **[detalle de la actividad]**. Por lo anterior se procede al cierre del caso.
    <br>
       <h3> (2) </h3>
    <br>    
        **Autorizaci&oacute;n para cierre:** Se da Vo.Bo para el cierre del caso por parte de Supervisi&oacute;n (NOMBRE)
</div>

</div>